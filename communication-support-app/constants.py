"""
定数・データセット・列挙型
====================================
責務：
- UI 文言、モード/レベルのラベル
- 各モードで利用する固定お題プール（ハードコード）
- 外部ファイル/DB/RAG に依存しないこと（仕様）

保守指針：
- 文言の変更やお題の追加は原則ここで完結
- 36の質問の配列分割（初級/中級/上級）やビジネス言い換えの整合性に注意
"""

from __future__ import annotations

from enum import Enum
from typing import Dict, List
from dataclasses import dataclass
from enum import Enum, auto


# アプリ全体タイトル（Streamlit ページタイトルにも使用）
APP_TITLE = "🍀 コミュニケーション補助アプリ 🍀"


# ============================================================================ #
# モード定義（UI 表示ラベルは `label` プロパティで提供）
# ============================================================================ #
class Mode(Enum):
    AA36 = "aa36"       # アーサー・アーロンの36の質問
    ITTAKU = "ittaku"   # 結論！実際それ一択
    VILLAIN = "villain" # なりきり犯罪者

    @property
    def label(self) -> str:
        return {
            Mode.AA36: "アーサー・アーロンの36の質問",
            Mode.ITTAKU: "結論！実際それ一択",
            Mode.VILLAIN: "悪事の正当化",
        }[self]

from dataclasses import dataclass

@dataclass(frozen=True)
class ModeHelp:
    name: str          # UIに表示するモード名
    summary: str       # 一行キャッチコピー
    notes: list[str]   # 遊び方/注意事項・推奨例など

MODE_HELP_MAP: dict[Mode, ModeHelp] = {
    Mode.AA36: ModeHelp(
        name="アーサー・アーロンの36の質問",
        summary="価値観に関わる質問を通じて、相互理解を深めるモード",
        notes=[
            "表示された3つのお題から、話しやすいものを1つ選び回答します。",
        ],
    ),
    Mode.ITTAKU: ModeHelp(
        name="結論「実際それ一択」",
        summary="合意形成を通して、参加者の価値観を共有するモード",
        notes=[
            "各参加者は、お題に対して順番に回答を提示します。",
            "▶︎自分と同じ回答が提示された場合は、その時点で名乗り出ます。",
            "各回答者は、自身の案について簡潔な説明や補足を行います。",
            "投票または合意形成により、最も支持された案を結論とします。",
        ],
    ),
    Mode.VILLAIN: ModeHelp(
        name="悪事の正当化",
        summary="架空の設定を演じることで、自由に発想/表現できるモード",
        notes=[
            "各参加者が指定された立場になりきり、強引に正当化やこじつけを試みます。",
            "最も独創性が高い／意外性があった／笑いを誘った回答を選びます。",
            "実在の人物・組織、ならびに参加者個人を連想させる内容には触れず、創作の範囲内でお楽しみください。",
        ],
    ),
}

# ============================================================================ #
# レベル（バリエーション）ラベル
# ============================================================================ #
LEVEL_LABELS_AA36: Dict[str, str] = {
    "beginner": "初級（気軽な会話向け）",
    "intermediate": "中級（気の合う友人向け）",
    "advanced": "上級（親友・恋人向け）",
    "business": "ビジネス（社内外向け）",
}

LEVEL_LABELS_ITTAKU: Dict[str, str] = {
    "everyday_topic": "標準（日常のテーマ）",
    "business_topic": "ビジネス（社内外向け）",
}

LEVEL_LABELS_VILLAIN: Dict[str, str] = {
    "criminal": "なりきり凶悪犯",
    "claimer": "こじつけクレーマー",
}


# ============================================================================ #
# データセット（固定配列：RAG/DB 無し）
# ============================================================================ #

# 36の質問（日本語要約）。1–12: 初級 / 13–24: 中級 / 25–36: 上級。
# 「business」は別配列で安全表現に言い換え。
AA36_QUESTIONS: List[str] = [
    # 1–12: 初級
    "世界中の誰でもディナーに招けるとしたら、誰を招きたいですか？",
    "有名になりたいですか？それはどのような形で？",
    "電話をかける前に話す内容を練習することはありますか？なぜですか？",
    "あなたにとって「完璧な一日」とはどのような日ですか？",
    "最後に自分や他人に歌を歌ったのはいつですか？",
    "90歳まで生きられるとして「30歳の心」か「30歳の体」どちらを保ちたいですか？",
    "自分の死に方について、何となく予感がありますか？",
    "あなたと相手に共通していることを3つ挙げてください。",
    "今の人生で最も感謝していることは何ですか？",
    "育てられ方で変えたいと思うことはありますか？",
    "4分間で自分の人生の物語をできるだけ詳しく語ってください。",
    "明日どんな能力や特質を得られるなら何を望みますか？",
    # 13–24: 中級
    "水晶玉が真実を教えてくれるなら、何を知りたいですか？",
    "長年やりたいと思いながらまだできていないことは？なぜですか？",
    "人生で最大の成果は何ですか？",
    "友情において最も大切にしていることは何ですか？",
    "最も大切な記憶は何ですか？",
    "最もつらい記憶は何ですか？",
    "1年後に突然死ぬとしたら、今の生き方を変えますか？なぜですか？",
    "あなたにとって友情とは何ですか？",
    "愛情やスキンシップはあなたの人生でどんな役割を果たしていますか？",
    "相手の良い点を1つずつ交互に挙げ、合計5つ伝えてください。",
    "あなたの家族はどのくらい親密で温かいですか？子ども時代は他人より幸福でしたか？",
    "あなたは母親との関係をどう感じていますか？",
    # 25–36: 上級
    "「私たちは〜だ」という真実の文を3つ作ってください（例：「私たちは今この部屋で同じ気持ちを感じている」）。",
    "「私は〜を共有できる人がいたらいいのに」という文を完成させてください。",
    "もし相手と親友になるとしたら、相手に知っておいてほしいことは何ですか？",
    "相手の好きなところを正直に伝えてください。普段は言わないようなことも含めて。",
    "恥ずかしかった経験を1つ共有してください。",
    "最後に他人の前で泣いたのはいつですか？一人では？",
    "相手の「すでに好きなところ」をもう一度伝えてください。",
    "冗談にしてはいけないほど深刻な話題はありますか？",
    "今夜死ぬとしたら、誰に何を伝えられなかったことを最も後悔しますか？なぜ伝えていないのですか？",
    "家が火事になり大切な人とペットを救った後、もう1つだけ持ち出せるとしたら何を選びますか？なぜですか？",
    "家族の中で誰の死が最もつらいと思いますか？なぜですか？",
    "個人的な悩みを1つ共有し、相手に「あなたならどうする？」と尋ねてください。その後、相手にあなたの感情を言い返してもらってください。",
]

# 36の質問・ビジネス向け
AA36_BUSINESS_REWRITE: List[str] = [
    "もし世界中の誰とでも1時間対話できるとしたら、誰を選びますか？その理由は？",
    "あなたにとって「理想的な一日」とは、どんな働き方の一日ですか？",
    "仕事で「完璧にできた」と感じた瞬間はどんな時ですか？",
    "これまでのキャリアで最も感謝している出来事は何ですか？",
    "今、学んでみたい・伸ばしたいスキルは何ですか？",
    "過去の失敗から得た、一番の教訓は何ですか？",
    "もし1年後に大きな成果を出すとしたら、それはどんなテーマで達成したいですか？",
    "あなたにとって「信頼できるチーム」とは、どんな状態を指しますか？",
    "働くうえで“譲れないこと”を1つ挙げるとしたら？",
    "これまでの職場で印象に残っているリーダー像を教えてください。",
    "あなたにとって「仕事での友情」とはどのような関係性ですか？",
    "もし今のチームに新メンバーを迎えるとしたら、どんな人を歓迎しますか？",
]

# 結論！実際それ一択のテーマ
ITTAKU_TOPICS: List[str] = [
    "理想の朝の過ごし方といえば？",
    "この季節に欠かせないものといえば？",
    "年末夜の過ごし方といえば？",
    "理想の読書のシチュエーションは？",
    "もらって嬉しいプレゼントは？",
    "旅行先でこれだけは外せないものは？",
    "おすすめガジェットは？",
    "これやってよかった！と思う健康習慣は？",
    "おすすめのガジェットは？",
    "一番ほっこりする瞬間といえば？"
    "これだけは出費を惜しまないものといえば？"
]

# 結論！実際それ一択のテーマ・ビジネス向け
ITTAKU_BUSINESS_TOPICS: List[str] = [
    "理想の金曜日の夜の過ごし方は？",
    "お土産で“相手のセンス”を感じたものは？",
    "同僚/取引先への定番の差し入れは？",
    "LLM（ChatGPT/Claudeなど）の活用法でおすすめは？",
    "アイデアが欲しい時にやることは？",
    "集中力が切れたときのリフレッシュ法は？",
    "一番仕事にやりがいを感じた瞬間は？",
    "仕事終わりのオフタイムへの切り替え法は？",
    "着手しづらい業務に取り掛かる最初の一手は？",
    "仕事が捗る“デスク環境といえば？",
]

# なりきり犯罪者で使う題材
CRIMINAL_TEMPLATE: List[str] = [
    "職員と利用者を人質に取り立てこもる銀行強盗犯",
    "有名美術館から名画を盗み出した実行犯",
    "大企業の顧客データを盗み出して闇市場で売るハッカー",
    "競合他社のサーバーを攻撃してダウンさせた悪徳会社員",
    "巨大遺跡から歴史的埋蔵品を盗んだ考古学者あがりの犯罪者",
    "他人の土地の所有者を装い大金を受け取った地面師",
    "海外から麻薬をスーツケースで密輸しようとした密輸人",
    "高級ブランドの偽造品を大量に流通させた犯罪者",
    "選挙結果を操作するための買収した政治家",
]

# こじつけクレーマーで使う題材
COMPLAINER_TEMPLATE: List[str] = [
    "混雑するランチタイムに料理の提供まで20分待たされたレストラン",
    "台風の影響で宅配便の到着が予定より1日遅れた通販注文",
    "営業時間ジャストに開店したスーパーに入店しようとして数十秒待たされたケース",
    "期間限定クーポンの有効期限が前日で切れていて使えなかった会計",
    "自らセルフレジを選び、操作に戸惑って時間がかかった会計",
    "繁忙期のコールセンターでオペレーターに繋がるまで10分待たされた問い合わせ",
    "店員が声をかけなかった理由が“自分がイヤホンをしていたせい”なのに怒る客",
    "無料Wi-Fiの速度が低速だったカフェ",
    "開店時間に間に合わず初売りの福袋が買えなかった客",
    "高価なスポーツ用具を購入したのに試合結果が振るわなかった人"
]
